#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "Running pre push..."

echo "Running typescript types..."
npm run lint

if [ $? -ne 0 ]; then
    echo "❌ Type checking failed! Push aborted."
    echo "Please fix the TypeScript errors before pushing."
    exit 1
fi

echo "Running build tests..."
npm run build

if [ $? -ne 0 ]; then
    echo "❌ Build tests failed! Push aborted."
    echo "Please fix the build errors before pushing."
    exit 1
fi

echo "✅ Build tests passed! Continuing with push..."
